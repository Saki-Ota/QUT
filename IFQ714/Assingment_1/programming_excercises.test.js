const {findMatchingClass, sortClasses, checkPha} = require("./programming_excercises");

const testApolloArray = [];
const testAmorArray= [];
const testAtenArray = [];
const testPhaTrue = [];
const testPhaFlase = [];

const sampleNeosDatset = [
  {
    designation: "419880 (2011 AH37)",
    discovery_date: "2011-01-07T00:00:00.000",
    h_mag: 19.7,
    moid_au: 0.035,
    q_au_1: 0.84,
    q_au_2: 4.26,
    period_yr: 4.06,
    i_deg: 9.65,
    pha: true,
    orbit_class: "Apollo",
  },
  {
    designation: "414772 (2010 OC103)",
    discovery_date: "2010-07-28T00:00:00.000",
    h_mag: 19,
    moid_au: 0.333,
    q_au_1: 0.39,
    q_au_2: 2,
    period_yr: 1.31,
    i_deg: 23.11,
    pha: false,
    orbit_class: "Apollo",
  },
  {
    designation: "407324 (2010 OB101)",
    discovery_date: "2010-07-18T00:00:00.000",
    h_mag: 20.7,
    moid_au: 0.111,
    q_au_1: 0.77,
    q_au_2: 2.46,
    period_yr: 2.06,
    i_deg: 9.12,
    pha: false,
    orbit_class: "Apollo",
  },
  {
    designation: "419880 (2011 AH37)",
    discovery_date: "2011-01-07T00:00:00.000",
    h_mag: 19.7,
    moid_au: 0.035,
    q_au_1: 0.84,
    q_au_2: 4.26,
    period_yr: 4.06,
    i_deg: 9.65,
    pha: true,
    orbit_class: "Apollo",
  },
  {
    designation: "(2010 AB78)",
    discovery_date: "2010-01-12T00:00:00.000",
    h_mag: 18.3,
    moid_au: 0.206,
    q_au_1: 1.02,
    q_au_2: 3.49,
    period_yr: 3.38,
    i_deg: 33.26,
    pha: false,
    orbit_class: "Amor",
  },
  {
    designation: "398188 (2010 LE15)",
    discovery_date: "2010-06-03T00:00:00.000",
    h_mag: 19.5,
    moid_au: 0.024,
    q_au_1: 0.63,
    q_au_2: 1.1,
    period_yr: 0.8,
    i_deg: 13.25,
    pha: true,
    orbit_class: "Aten",
  },
  {
    designation: "365449 (2010 NJ1)",
    discovery_date: "2010-07-03T00:00:00.000",
    h_mag: 20.3,
    moid_au: 0.155,
    q_au_1: 0.44,
    q_au_2: 1.49,
    period_yr: 0.95,
    i_deg: 11.23,
    pha: false,
    orbit_class: "Aten",
  },
  {
    designation: "365424 (2010 KX7)",
    discovery_date: "2010-05-16T00:00:00.000",
    h_mag: 21.9,
    moid_au: 0.034,
    q_au_1: 0.82,
    q_au_2: 1.16,
    period_yr: 0.98,
    i_deg: 21.49,
    pha: true,
    orbit_class: "Aten",
  },
  {
    designation: "(2015 FD341)",
    discovery_date: "2015-03-27T00:00:00.000",
    h_mag: 18,
    moid_au: 0.124,
    q_au_1: 0.31,
    q_au_2: 1.6,
    period_yr: 0.93,
    i_deg: 20.55,
    pha: false,
    orbit_class: "Aten",
  },
  {
    designation: "419624 (2010 SO16)",
    discovery_date: "2010-09-17T00:00:00.000",
    h_mag: 20.5,
    moid_au: 0.028,
    q_au_1: 0.93,
    q_au_2: 1.08,
    period_yr: 1,
    i_deg: 14.52,
    pha: true,
    orbit_class: "Apollo",
  },
  {
    designation: "(2010 AB78)",
    discovery_date: "2010-01-12T00:00:00.000",
    h_mag: 18.3,
    moid_au: 0.206,
    q_au_1: 1.02,
    q_au_2: 3.49,
    period_yr: 3.38,
    i_deg: 33.26,
    pha: false,
    orbit_class: "Amor",
  }
];

test('Check the class name given and filters the matching neos and push it into the passed array', () => {
    expect(
      findMatchingClass(sampleNeosDatset, "Apollo", testApolloArray)
    ).toEqual([
      {
        designation: "419880 (2011 AH37)",
        discovery_date: "2011-01-07T00:00:00.000",
        h_mag: 19.7,
        moid_au: 0.035,
        q_au_1: 0.84,
        q_au_2: 4.26,
        period_yr: 4.06,
        i_deg: 9.65,
        pha: true,
        orbit_class: "Apollo",
      },
      {
        designation: "414772 (2010 OC103)",
        discovery_date: "2010-07-28T00:00:00.000",
        h_mag: 19,
        moid_au: 0.333,
        q_au_1: 0.39,
        q_au_2: 2,
        period_yr: 1.31,
        i_deg: 23.11,
        pha: false,
        orbit_class: "Apollo",
      },
      {
        designation: "407324 (2010 OB101)",
        discovery_date: "2010-07-18T00:00:00.000",
        h_mag: 20.7,
        moid_au: 0.111,
        q_au_1: 0.77,
        q_au_2: 2.46,
        period_yr: 2.06,
        i_deg: 9.12,
        pha: false,
        orbit_class: "Apollo",
      },
      {
        designation: "419880 (2011 AH37)",
        discovery_date: "2011-01-07T00:00:00.000",
        h_mag: 19.7,
        moid_au: 0.035,
        q_au_1: 0.84,
        q_au_2: 4.26,
        period_yr: 4.06,
        i_deg: 9.65,
        pha: true,
        orbit_class: "Apollo",
      },
      {
        designation: "419624 (2010 SO16)",
        discovery_date: "2010-09-17T00:00:00.000",
        h_mag: 20.5,
        moid_au: 0.028,
        q_au_1: 0.93,
        q_au_2: 1.08,
        period_yr: 1,
        i_deg: 14.52,
        pha: true,
        orbit_class: "Apollo",
      },
    ]);
})

test('check each NEOs values of q_au_1 and period_yr and sort them into matching class ', () => {
    expect(
      sortClasses(
        sampleNeosDatset,
        testAtenArray,
        testApolloArray,
        testAmorArray
      )).toEqual([
        {
          designation: "(2010 AB78)",
          discovery_date: "2010-01-12T00:00:00.000",
          h_mag: 18.3,
          moid_au: 0.206,
          q_au_1: 1.02,
          q_au_2: 3.49,
          period_yr: 3.38,
          i_deg: 33.26,
          pha: false,
          orbit_class: "Amor",
        },
        {
          designation: "(2010 AB78)",
          discovery_date: "2010-01-12T00:00:00.000",
          h_mag: 18.3,
          moid_au: 0.206,
          q_au_1: 1.02,
          q_au_2: 3.49,
          period_yr: 3.38,
          i_deg: 33.26,
          pha: false,
          orbit_class: "Amor",
        }
      ]
    );
});

test('Check each NEO and if it meets PHA crtieria then pushes into the given array', () => {expect(checkPha(sampleNeosDatset, testPhaTrue, testPhaFlase)).toEqual([
  {
    designation: "419880 (2011 AH37)",
    discovery_date: "2011-01-07T00:00:00.000",
    h_mag: 19.7,
    moid_au: 0.035,
    q_au_1: 0.84,
    q_au_2: 4.26,
    period_yr: 4.06,
    i_deg: 9.65,
    pha: true,
    orbit_class: "Apollo",
  },
  {
    designation: "419880 (2011 AH37)",
    discovery_date: "2011-01-07T00:00:00.000",
    h_mag: 19.7,
    moid_au: 0.035,
    q_au_1: 0.84,
    q_au_2: 4.26,
    period_yr: 4.06,
    i_deg: 9.65,
    pha: true,
    orbit_class: "Apollo",
  },
  {
    designation: "398188 (2010 LE15)",
    discovery_date: "2010-06-03T00:00:00.000",
    h_mag: 19.5,
    moid_au: 0.024,
    q_au_1: 0.63,
    q_au_2: 1.1,
    period_yr: 0.8,
    i_deg: 13.25,
    pha: true,
    orbit_class: "Aten",
  },
  {
    designation: "365424 (2010 KX7)",
    discovery_date: "2010-05-16T00:00:00.000",
    h_mag: 21.9,
    moid_au: 0.034,
    q_au_1: 0.82,
    q_au_2: 1.16,
    period_yr: 0.98,
    i_deg: 21.49,
    pha: true,
    orbit_class: "Aten",
  },
  {
    designation: "419624 (2010 SO16)",
    discovery_date: "2010-09-17T00:00:00.000",
    h_mag: 20.5,
    moid_au: 0.028,
    q_au_1: 0.93,
    q_au_2: 1.08,
    period_yr: 1,
    i_deg: 14.52,
    pha: true,
    orbit_class: "Apollo",
  }
]);})
